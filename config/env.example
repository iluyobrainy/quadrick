# ============================================
# Quadrick Environment Template (Sanitized)
# ============================================

# Bybit API Configuration
BYBIT_API_KEY=your_bybit_api_key
BYBIT_API_SECRET=your_bybit_api_secret
BYBIT_TESTNET=true
BYBIT_BASE_URL_TESTNET=https://api-testnet.bytick.com
BYBIT_BASE_URL_MAINNET=https://api.bybit.com
BYBIT_WS_URL_TESTNET=wss://stream-testnet.bybit.com/v5/public
BYBIT_WS_URL_MAINNET=wss://stream.bybit.com/v5/public

# LLM Configuration
LLM_PROVIDER=deepseek
DEEPSEEK_API_KEY=your_deepseek_api_key
DEEPSEEK_MODEL=deepseek-chat
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-opus-20240229

# Trading Configuration
TRADING_MODE=normal
INITIAL_BALANCE=15.0
MIN_RISK_PCT=1.0
MAX_RISK_PCT=6.0
MAX_DAILY_DRAWDOWN_PCT=12.0
MAX_LEVERAGE=10
MAX_CONCURRENT_POSITIONS=2
MIN_ACCOUNT_BALANCE=8.0
DECISION_INTERVAL_SECONDS=60
MIN_RR_RATIO=1.5
SMALL_ACCOUNT_BALANCE_THRESHOLD=150
SMALL_ACCOUNT_MAX_RISK_PCT=3.0
SMALL_ACCOUNT_MAX_LEVERAGE=5
SMALL_ACCOUNT_MIN_RR_RATIO=1.8
MIN_CONFIDENCE_SCORE=0.60
MAX_ENTRY_DRIFT_PCT=1.20
MIN_STOP_DISTANCE_PCT=0.35
MAX_STOP_DISTANCE_PCT=8.0
ESTIMATED_ROUND_TRIP_COST_PCT=0.14
MIN_EXPECTED_EDGE_PCT=0.00
AUTONOMOUS_MODE_ENABLED=true
RELAXED_TRADE_GATING=false
SOFT_GOVERNOR_ENABLED=true
SOFT_GOVERNOR_MIN_MULTIPLIER=0.20
SOFT_GOVERNOR_MAX_MULTIPLIER=1.20
SOFT_GOVERNOR_DECAY=0.85
SOFT_GOVERNOR_RECOVERY=1.05
SOFT_GOVERNOR_UPDATE_MINUTES=10
SOFT_GOVERNOR_MIN_OBJECTIVE_CLOSED_TRADES=6
SOFT_GOVERNOR_MIN_EXECUTION_EVENTS=6
SOFT_DRAWDOWN_DEGRADE_CAP_PCT=6.0
SOFT_CATASTROPHIC_DRAWDOWN_PCT=12.0
FOCUS_RECOVERY_MODE_ENABLED=true
FOCUS_RECOVERY_RESET_GOVERNOR_ON_START=true
FOCUS_RECOVERY_DISABLE_COUNTERTREND_SOFT_BYPASS=true
QUANT_SESSION_SCOPE_METRICS=true
QUALITY_SCORE_FULL_MIN=62
QUALITY_SCORE_PROBE_MIN=45
PROBE_RISK_SCALE=0.35
PROBE_AFTER_NO_ACCEPT_CYCLES=8
PROBE_MAX_PER_HOUR=4
SYMBOL_MAX_MARGIN_PCT=15.0
PORTFOLIO_MAX_MARGIN_PCT=35.0
FULL_ENTRY_MAX_EST_SLIPPAGE_BPS=40
PROBE_ENTRY_MAX_EST_SLIPPAGE_BPS=60
POST_FILL_MICRO_EXIT_BPS=120
FULL_ENTRY_MAX_SPREAD_TO_ATR_RATIO=0.35
FULL_ENTRY_REGIME_STABILITY_BARS=4
FULL_ENTRY_REGIME_STABILITY_MIN_RATIO=0.75
WIN_RATE_MODE_ENABLED=false
ANTI_CHOP_ENABLED=false
ANTI_CHOP_PROBE_ONLY=false
ANTI_CHOP_MAX_ADX_15M=17.0
ANTI_CHOP_MAX_BB_WIDTH_15M=0.03
ANTI_CHOP_MAX_ATR_PCT_15M=0.65
ANTI_CHOP_MAX_SPREAD_TO_ATR_RATIO=0.28
ANTI_CHOP_SKIP_QUALITY_MAX=52
ANTI_CHOP_PROBE_QUALITY_MIN=46
SLIPPAGE_UNIT_VALIDATION_ENABLED=false
SLIPPAGE_UNIT_VALIDATION_MAX_ABS_BPS_DIFF=0.25
SLIPPAGE_UNIT_VALIDATION_MAX_ABS_PCT_DIFF=0.0025
SLIPPAGE_UNIT_VALIDATION_MAX_BPS=10000
SLIPPAGE_UNIT_VALIDATION_MAX_EST_BPS=5000
SYMBOL_SIDE_REGIME_POLICY_ENABLED=true
SYMBOL_POLICY_LOOKBACK_MINUTES=1440
SYMBOL_POLICY_SHORT_LOOKBACK_MINUTES=180
SYMBOL_POLICY_DECAY_HALF_LIFE_MINUTES=720
SYMBOL_POLICY_MIN_TRADES_YELLOW=6
SYMBOL_POLICY_MIN_TRADES_RED=10
SYMBOL_POLICY_BAYES_KAPPA=6.0
SYMBOL_POLICY_PRIOR_ALPHA=5.0
SYMBOL_POLICY_PRIOR_BETA=5.0
SYMBOL_POLICY_YELLOW_EXPECTANCY_PCT=0.0
SYMBOL_POLICY_RED_EXPECTANCY_PCT=-0.2
SYMBOL_POLICY_GREEN_RISK_MULT=1.0
SYMBOL_POLICY_YELLOW_RISK_MULT=0.75
SYMBOL_POLICY_RED_RISK_MULT=0.35
SYMBOL_POLICY_GREEN_WEIGHT=1.05
SYMBOL_POLICY_YELLOW_WEIGHT=0.85
SYMBOL_POLICY_RED_WEIGHT=0.55
SYMBOL_POLICY_YELLOW_QUALITY_PENALTY=5.0
SYMBOL_POLICY_RED_QUALITY_PENALTY=12.0
SYMBOL_POLICY_YELLOW_EDGE_FLOOR_DELTA_PCT=0.03
SYMBOL_POLICY_RED_EDGE_FLOOR_DELTA_PCT=0.08
SYMBOL_POLICY_YELLOW_SLIPPAGE_MULT=0.9
SYMBOL_POLICY_RED_SLIPPAGE_MULT=0.75
SYMBOL_POLICY_RED_PROBE_INTERVAL_MINUTES=30
SYMBOL_POLICY_RED_PROBE_RISK_MULT=0.5
SYMBOL_POLICY_DRIFT_FLIP_THRESHOLD_PCT=0.35
COUNTER_TREND_STRICT_MODE=false
COUNTER_TREND_DISABLE_SOFT_OVERRIDES=true
COUNTER_TREND_BYPASS_MIN_SCORE=85
COUNTER_TREND_BYPASS_MIN_BUCKET_EXPECTANCY_PCT=0.20
COUNTER_TREND_BYPASS_MIN_BUCKET_WIN_RATE=0.58
REALIZED_COST_LOOKBACK_MINUTES=360
REALIZED_COST_MIN_SAMPLES=6
REALIZED_COST_SLIPPAGE_WEIGHT=0.70
REALIZED_COST_SLIPPAGE_CLIP_BPS=180
QUANT_UNCERTAINTY_SOFT_PENALTY_BIAS=0.45
QUANT_UNCERTAINTY_SOFT_PENALTY_SCALE=18.0
QUANT_UNCERTAINTY_HARD_MAX=0.90
QUANT_SLOT_QUEUE_MAX_AGE_MINUTES=30
ENFORCE_SINGLE_POSITION_PER_SYMBOL=true
ALLOW_SCALE_IN=false
MAX_CONSECUTIVE_SYMBOL_ENTRIES=99
SYMBOL_REPEAT_WINDOW=6
SYMBOL_REPEAT_PENALTY_PCT=0.00
SYMBOL_REPEAT_OVERRIDE_GAP_PCT=0.00
FLAT_SYMBOL_COOLDOWN_MINUTES=0
SYMBOL_LOSS_SOFT_STREAK=2
SYMBOL_LOSS_HARD_STREAK=4
SYMBOL_LOSS_RISK_MULTIPLIER=0.60
SYMBOL_LOSS_HARD_COOLDOWN_MINUTES=60
CROWDED_LONG_BLOCK_ENABLED=true
CROWDED_LONG_MIN_FORECAST_CONFIDENCE=0.62
CROWDED_LONG_MIN_PROB_UP=0.60
CROWDED_LONG_MIN_OPPORTUNITY_SCORE=86.0
CROWDED_LONG_MIN_ADX_15M=18.0
AFFORDABILITY_MARGIN_EPSILON_USD=0.01
MARKET_ORDER_SLIPPAGE_TOLERANCE_PCT=0.45
MARKET_ORDER_REJECT_COOLDOWN_MINUTES=7
MAX_REPRICE_ATTEMPTS=2
TIME_STOP_ENABLED=true
TIME_STOP_MIN_HOLD_MINUTES=20
TIME_STOP_SOFT_MULTIPLIER=1.35
TIME_STOP_HARD_MULTIPLIER=2.40
TIME_STOP_SOFT_LOSS_THRESHOLD_PCT=-0.18
TIME_STOP_HARD_FLAT_THRESHOLD_PCT=0.12
LOSS_DEGRADE_SL_FRACTION=0.65
ENABLE_FORECAST_ENGINE=true
FORECAST_WEIGHT_PCT=0.12
FORECAST_MIN_CONFIDENCE=0.54
QUANT_PRIMARY_MODE=true
QUANT_ENFORCE_LLM_EXECUTION_LOCK=true
LLM_AUDIT_ENABLED=false
QUANT_DATA_LAKE_PATH=data/quant_lake/quant.db
QUANT_MIN_EDGE_PER_TRADE_PCT=0.00
QUANT_MIN_CALIBRATED_CONFIDENCE=0.52
QUANT_UNCERTAINTY_MAX=0.70
QUANT_TRAINING_LOOKBACK_ROWS=4000
QUANT_RETRAIN_INTERVAL_MINUTES=120
QUANT_DRIFT_RETRAIN_THRESHOLD=0.65
QUANT_CORRELATION_CAP=0.75
QUANT_MAX_PORTFOLIO_RISK_BUDGET_PCT=8.0
QUANT_MIN_EXPECTED_MOVE_PCT=0.10
QUANT_MIN_TP_PCT=0.20
QUANT_MAX_TP_PCT=2.20
QUANT_MIN_SL_PCT=0.15
QUANT_MAX_SL_PCT=1.20
QUANT_LATENCY_KILL_SWITCH_MS=2200
QUANT_REJECT_RATE_KILL_SWITCH=0.35
QUANT_REJECT_KILL_SWITCH_MIN_EVENTS=8
QUANT_TARGET_TRADES_PER_HOUR=1.2
QUANT_EXPECTANCY_HOUR_FLOOR_PCT=0.04
QUANT_MIN_CLOSED_TRADES_FOR_OBJECTIVE=12
QUANT_EXPECTANCY_FLOOR_GUARD_ENABLED=false
QUANT_EXPECTANCY_FLOOR_GUARD_MIN_CLOSED_TRADES=16
QUANT_EXPECTANCY_FLOOR_GUARD_FLOOR_PCT=0.04
QUANT_EXPECTANCY_FLOOR_GUARD_TAIL_LOSS_5_RATE=0.20
QUANT_EXPECTANCY_FLOOR_GUARD_PROBE_ONLY=true
QUANT_MONITOR_REJECT_ALERT=0.22
QUANT_MONITOR_LATENCY_ALERT_MS=1600
QUANT_MONITOR_DRIFT_ALERT=0.72
QUANT_MONITOR_NO_PROPOSAL_CYCLES_ALERT=6
QUANT_MONITOR_MIN_ALERT_INTERVAL_MINUTES=10
FULL_TIER_TP1_R_MULTIPLE=0.8
FULL_TIER_TP1_PARTIAL_PCT=40
FULL_TIER_BREAKEVEN_R_MULTIPLE=1.0
FULL_TIER_TRAIL_ACTIVATION_R_MULTIPLE=1.2
PROBE_TIER_TIME_STOP_SOFT_MINUTES=18
PROBE_TIER_TIME_STOP_HARD_MINUTES=34
MAX_CONSECUTIVE_WAITS=6

# Risk Management Milestones
MILESTONE_1_TARGET=50
MILESTONE_2_TARGET=100
MILESTONE_3_TARGET=200
MILESTONE_4_TARGET=500
MILESTONE_5_TARGET=1000
MILESTONE_6_TARGET=100000

# Notifications
NOTIFICATIONS_ENABLED=true
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
DISCORD_ENABLED=false
DISCORD_WEBHOOK_URL=

# Logging
LOG_LEVEL=INFO
LOG_TO_FILE=true
LOG_FILE_PATH=logs/trading.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=10

# Database (Supabase preferred)
DATABASE_PROVIDER=supabase
DATABASE_URL=sqlite:///trading.db
USE_ASYNC_DB=true

SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
SUPABASE_ANON_KEY=your_anon_key
SUPABASE_PROJECT_ID=your_project_id

# System Safety + Runtime
TIMEZONE=UTC
ENABLE_PAPER_TRADING=false
ENABLE_BACKTESTING=false
HIGH_IMPACT_NEWS_BLACKOUT_MINS=15
EMERGENCY_STOP_ENABLED=true
ALLOW_LIVE_TRADING=false
DASHBOARD_BRIDGE_ENABLED=true
DASHBOARD_INTERNAL_PORT=8001

# Frontend (set in quadend/.env.local for Vercel)
# NEXT_PUBLIC_API_URL=https://your-railway-backend-domain
VERCEL_FRONTEND_URL=https://your-frontend.vercel.app
